<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Todo demo app</title>
</head>
<body>
    <script data-dojo-config="async: true, isDebug: true", src="../../deps/dojo/dojo.js"></script>
    <script>
		require({
			baseUrl: '../../../deps',
			paths: {
				ksf: "..",
				collections: "collections-amd"
			},
			packages: [
				{ name: 'compose', location: 'compose', main: 'compose' },
				{ name: 'originalBacon', location: 'bacon.js/dist', main: 'Bacon' }
			],
			aliases: [
				['bacon', 'ksf/utils/Bacon']
			]
		}, [
			"ksf/demo/todos/TodoListManager",
			'ksf/demo/Todo',
			'ksf/collections/OrderableSet'
		], function(TodoListManager, Todo, OrderableSet) {
			window.todos = new OrderableSet();
			todos.addEach([
				new Todo({text:'learn angular', done:true}),
				new Todo({text:'build an angular app', done:false}),
				new Todo({text:'faire les courses', done:true}),
			]);

			todosManager = new TodoListManager();
			todosManager.set('todoList', todos);
			document.body.appendChild(todosManager.get("domNode"));
			//todosManager.updateRendering();
		});
	</script>
</body>
</html>
